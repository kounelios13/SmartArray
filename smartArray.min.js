function SmartArray(){function v(a,b){return"number"===typeof(a&&b)?a-b:(a+"").localeCompare(b)}function u(a){var b,f,d;for(d=a.length;d;)b=Math.floor(Math.random()*d),f=a[d-1],a[d-1]=a[b],a[b]=f,d--;return a}function h(){q&&(m=b.slice())}function l(a){return Array.prototype.slice.call(a)}function n(c){a.length=b.length}function r(){for(var c=0;c<b.length;c++)delete a[c];p=0}function k(c){var e=a.length;for(c=c?p:0;c<e;c++)a[c]=b[c];p=e}var q=!0,a=this,t=!1,b=[],m=[];b.constructor!=Array&&(b=[]);
var p=0;a.constructor="SmartArray";a.length=0;k();a.isEmpty=function(){return 0==a.length};a.includes=function(){return Array.prototype.includes.apply(b,l(arguments))};a.every=function(){return Array.prototype.every.apply(b,l(arguments))};a.toChars=function(){for(var a=[],e=0,f=b.length;e<f;e++)"number"===typeof b[e]&&a.push(String.fromCharCode(parseInt(b[e])));return a};a.getUniqueItems=function(){for(var b=[],e=a.getArray(!0).sort(v),f=0,d=e.length;f<d;f++)-1==b.indexOf(e[f])&&b.push(e[f]);return b};
a.frequency=function(a){for(var e=0,f=b,d=0,g=f.length;d<g;d++)a==f[d]&&e++;return e};a.topItem=function(){var c=b.slice();c.sort();for(var e=a.frequency(c[0]),f=c[0],d=0,g=c.length;d<g;d++)a.frequency(c[d])>e&&(e=a.frequency(c[d]),f=c[d]);return f};a.getArray=function(){return b.slice()};a.getLastItem=function(){var c=b;return a.isEmpty()?null:c[c.length-1]};a.replaceArray=function(a){h();b=a.slice();n(b);k();return b};a.backupArray=function(){h()};a.restoreBackup=function(){if(q)return n(b),a.replaceArray(m.slice()),
k(),b};a["delete"]=function(c){if(!("string"===typeof c?-1!=b.indexOf(c):0<=c&&c<b.length))throw Error("Invalid index");delete a[c];a.length--;return delete b[c]};a.getBackup=function(){return m};a.deleteArray=function(){h();r();b.length=a.length=0};a.shuffle=function(){if(a.isEmpty())throw Error("Array is empty.");h();u(b);m!=b&&k()};a.pickRandomItem=function(){return u(b.slice())[0]};a.swap=function(c,e){var f=a.length,d=c,g=e;"string"===typeof d&&(d=b.indexOf(d));"string"===typeof g&&(g=b.indexOf(g));
if(-1==d||-1==g)throw new TypeError("Invalid indexes");if(d==f||g==f||0>d||0>g)throw new TypeError("Index out of bounds");if(d==g)throw new TypeError("Start index and end index can not be the same!!!");if(!d||!g)if(f=isNaN(parseInt(d))||isNaN(parseInt(g))?"Please eneter valid indexes":0==d||0==g?null:d||g?d?"End index is invalid":"Start index is invalid":"Both indexes are invalid")throw new TypeError(f);h();f=a[g];a[g]=a[d];a[d]=f;f=b[g];b[g]=b[d];b[d]=f};a.replaceItem=function(c,e,f){if(!f&&(0>c||
c>=a.length))throw new TypeError("Invalid Index");h();b[c]=e;a[c]=e;f&&n(b);return b};a.set=function(b,e){return a.replaceItem(b,e,!0)};a.disableBackups=function(){q=!1;m=null};a.enableBackups=function(){q=!0;m=[]};a.lastItem=function(){return b[a.length-1]};a.removeDuplicates=function(){h();r();a.replaceArray(a.getUniqueItems(!0));n(b);p=b.length;k();return b};a.denyDuplicates=function(){t=!0;return a.removeDuplicates()};a.allowDuplicates=function(){t=!1};a.push=function(){h();a.length=Array.prototype.push.apply(b,
l(arguments));if(t)return a.removeDuplicates(),a.length;k(!0);return a.length};a.pop=function(){if(a.isEmpty())throw Error("Can't pop from empty array.");h();p--;delete a[--a.length];return b.pop()};a.fill=function(){Array.prototype.fill.apply(b,l(arguments));k();return b};a.filter=function(){return Array.prototype.filter.apply(b,l(arguments))};a.find=function(a){return Array.prototype.find.apply(b,l(arguments))};a.values=function(){return b.values()};a.slice=function(a,e){return Array.prototype.slice.apply(b,
l(arguments))};a.shift=function(){if(a.isEmpty())throw Error("Can't shift from empty array.");h();var c=b.shift();n(b);k();delete a[a.length];return c};a.unshift=function(c){b.unshift(c);n(b);k();return a.length};a.reverse=function(){h();b.reverse();k();return b};a.reduce=function(){return Array.prototype.reduce.apply(b,l(arguments))};a.sort=function(a){h();b.sort(a);r();k();return b};a.join=function(a){return b.join(a)};a.toString=function(){return b.toString()};a.indexOf=function(a){return b.indexOf(a)};
a.lastIndexOf=function(){return Array.prototype.lastIndexOf.apply(b,l(arguments))};a.keys=function(){return b.keys()};a.map=function(a){if(!a)throw new TypeError("You can't call .map() without passing a function.");h();b.map(a);k();return b.map(a)};a.forEach=function(a,e){return b.forEach(a,e)};a.every=function(){return Array.prototype.every.apply(b,l(arguments))}};