function SmartArray(k,p){function u(a,b){return"number"===typeof a&&"number"===typeof b?a-b:(a+"").localeCompare(b)}function t(a){var b,g,e;for(e=a.length;e;)b=Math.floor(Math.random()*e),g=a[e-1],a[e-1]=a[b],a[b]=g,e--;return a}function h(){q&&(l=b.slice())}function m(a){return Array.prototype.slice.call(a)}function r(){for(var c=0;c<b.length;c++)delete a[c];n=0}function d(c){var f=a.length;for(c=c?n:0;c<f;c++)a[c]=b[c];n=f}var v="undefined"!=typeof jQuery,q=!0,a=this,b=k||[],l=[];b.constructor!=
Array&&(b=[]);p&&k.constructor==Array&&(b=k.slice());var n=0;a.constructor="SmartArray";a.length=b.length;d();a.isEmpty=function(){return 0==a.length};a.includes=function(){return Array.prototype.includes.apply(b,m(arguments))};a.every=function(){return Array.prototype.every.apply(b,m(arguments))};a.toChars=function(){for(var a=[],f=0,g=b.length;f<g;f++)"number"==typeof b[f]&&a.push(String.fromCharCode(parseInt(b[f])));return a};a.getUniqueItems=function(){for(var b=[],f=a.getArray(!0).sort(u),g=
0,e=f.length;g<e;g++)-1==b.indexOf(f[g])&&b.push(f[g]);return b};a.frequency=function(a){for(var f=0,g=b,e=0,d=g.length;e<d;e++)a==g[e]&&f++;return f};a.topItem=function(){var c=b.slice();c.sort();for(var f=a.frequency(c[0]),g=c[0],e=0,d=c.length;e<d;e++)a.frequency(c[e])>f&&(f=a.frequency(c[e]),g=c[e]);return g};a.logKeys=function(){function c(c){b.push(c.which||c.keyCode);a.length=b.length;d(!0)}console.log("Now every time you press a key its keycode will be saved in the array you specified");v?
$(window).keypress(c):window.addEventListener("keypress",c);return a};a.filter=function(a){return b.filter(a)};a.getArray=function(a){return a?b.slice():b};a.getLastItem=function(){var c=b;return a.isEmpty()?null:c[c.length-1]};a.replaceArray=function(c,f){h();b=f?c.slice():c;a.length=b.length;d();return b};a.backupArray=function(){h()};a.restoreBackup=function(){a.length=b.length;a.replaceArray(l.slice());d();return b};a.getBackup=function(){return l};a.deleteArray=function(){h();r();b.length=a.length=
0};a.shuffle=function(){if(a.isEmpty())throw Error("Array is empty");h();t(b);l!=b&&d()};a.pickRandomItem=function(){return t(b.slice())[0]};a.swap=function(c,f){var g=a.length,e=c,d=f;"number"!=typeof e&&(e=b.indexOf(e));"number"!=typeof d&&(d=b.indexOf(d));if(-1==e||-1==d)throw new TypeError("Invalid indexes");if(e==g||d==g||0>e||0>d)throw new TypeError("Index out of bounds");if(e==d)throw new TypeError("Start index and end index can not be the same!!!");if(!e||!d)if(g=isNaN(parseInt(e))||isNaN(parseInt(d))?
"Please eneter valid indexes":0==e||0==d?null:e||d?e?"End index is invalid":"Start index is invalid":"Both indexes are invalid")throw new TypeError(g);h();temp=a[f];a[f]=a[c];a[c]=temp;temp=b[f];b[f]=b[c];b[c]=temp};a.replaceItem=function(a,f){h();b[a]=f;d();return b};a.update=function(){p||!window.hasOwnProperty(k)||k.length==a.length&&k==b||(a.length=k.length,d())};a.autoUpdate=function(b){if(!p){if(isNaN(b))throw new TypeError("Interval value must be a valid number");a.interval=setInterval(function(){a.update()},
0>b?-b:b)}};a.disableAutoUpdate=function(){clearInterval(a.interval)};a.disableBackups=function(){q=!1};a.enableBackups=function(){q=!0};a.lastItem=function(){return b[a.length-1]};a.removeDuplicates=function(){h();r();a.replaceArray(a.getUniqueItems(!0));n=a.length=b.length;d();return b};a.push=function(){h();a.length=Array.prototype.push.apply(b,m(arguments));d(!0);return a.length};a.pop=function(){h();if(a.isEmpty())throw Error("Can't pop from empty array.");n--;delete a[--a.length];return b.pop()};
a.fill=function(){Array.prototype.fill.apply(b,m(arguments));d();return b};a.slice=function(a,d){return Array.prototype.slice.apply(b,m(arguments))};a.shift=function(){if(a.isEmpty())throw Error("Can't shift from empty array.");h();var c=b.shift();a.length=b.length;d();delete a[a.length];return c};a.unshift=function(c){b.unshift(c);a.length=b.length;d();return a.length};a.reverse=function(){h();b.reverse();d();return b};a.reduce=function(a){return b.reduce(a)};a.sort=function(a){h();b.sort(a);r();
d();return b};a.join=function(a){return b.join(a)};a.toString=function(){return b.toString()};a.indexOf=function(a){return b.indexOf(a)};a.lastIndexOf=function(a){return b.lastIndexOf(a)};a.keys=function(){return b.keys()};a.map=function(a){h();b.map(a);l.slice()!=b.slice()&&d();return b.map(a)}};