function SmartArray(l,q){function r(c,a){return"number"===typeof c&&"number"===typeof a?c-a:(c+"").localeCompare(a)}function v(c,a){return"number"===typeof c&&"number"===typeof a?a-c:(a+"").localeCompare(c)}function u(c){var a,b,d;for(d=c.length;d;)a=Math.floor(Math.random()*d),b=c[d-1],c[d-1]=c[a],c[a]=b,d--;return c}function g(){m=b.slice()}function n(a){return Array.prototype.slice.call(a)}function t(){for(var c=0;c<b.length;c++)delete a[c];p=0}function e(c){var f=a.length;c=c?p:0;for(c;c<f;c++)a[c]=
b[c];p=f}var w="undefined"!=typeof jQuery,a=this,b=l||[],m=[];b.constructor!=Array&&(b=[]);q&&l.constructor==Array&&(b=l.slice());var p=0;a.constructor="SmartArray";a.length=b.length;e();a.isEmpty=function(){return 0==a.length};a.includes=function(){return Array.prototype.includes.apply(b,n(arguments))};a.every=function(){return Array.prototype.every.apply(b,n(arguments))};a.toChars=function(){for(var a=[],f=0,k=b.length;f<k;f++)"number"==typeof b[f]&&a.push(String.fromCharCode(parseInt(b[f])));return a};
a.getUniqueItems=function(){for(var c=[],b=a.getArray(!0),k=0,d=b.length;k<d;k++)-1==c.indexOf(b[k])&&c.push(b[k]);c.sort(r);return c};a.frequency=function(a){for(var f=0,k=b,d=0,e=k.length;d<e;d++)a==k[d]&&f++;return f};a.topItem=function(){var c=b.slice();c.sort();for(var f=a.frequency(c[0]),e=c[0],d=0,g=c.length;d<g;d++)a.frequency(c[d])>f&&(f=a.frequency(c[d]),e=c[d]);return e};a.logKeys=function(){function c(c){b.push(c.which||c.keyCode);a.length=b.length;e(!0)}console.log("Now every time you press a key its keycode will be saved in the array you specified");
w?$(window).keypress(c):window.addEventListener("keypress",c);return a};a.filter=function(a){return b.filter(a)};a.getArray=function(a){return a?b.slice():b};a.getLastItem=function(){var c=b;return a.isEmpty()?null:c[c.length-1]};a.replaceArray=function(c,f){g();b=f?c.slice():c;a.length=b.length;e();return b};a.backupArray=function(){g()};a.restoreBackup=function(){a.length=b.length;a.replaceArray(m.slice());e();return b};a.getBackup=function(){return m};a.deleteArray=function(){g();t();b.length=
a.length=0};a.shuffle=function(){if(a.isEmpty())throw Error("Array is empty");g();u(b);m!=b&&e()};a.pickRandomItem=function(){return u(b.slice())[0]};a.swap=function(c,f){var e=a.length,d=c,h=f;"number"!=typeof d&&(d=b.indexOf(d));"number"!=typeof h&&(h=b.indexOf(h));if(-1==d||-1==h)throw new TypeError("Invalid indexes");if(d==e||h==e||0>d||0>h)throw new TypeError("Index out of bounds");if(!d||!h)if(e=isNaN(parseInt(d))||isNaN(parseInt(h))?"Please eneter valid indexes":0==d||0==h?null:d||h?d?"End index is invalid":
"Start index is invalid":"Both indexes are invalid")throw new TypeError(e);g();temp=a[f];a[f]=a[c];a[c]=temp;temp=b[f];b[f]=b[c];b[c]=temp};a.replaceItem=function(a,f){g();b[a]=f;e();return b};a.update=function(){q||l.length==a.length&&l==b||(a.length=l.length,e())};a.autoUpdate=function(c){if(!q){if(isNaN(c))throw new TypeError("Interval value must be a valid number");a.interval=setInterval(function(){a.update()},0>c?-c:c)}};a.disableAutoUpdate=function(){clearInterval(a.interval)};a.lastItem=function(){return b[a.length-
1]};a.removeDuplicates=function(){g();a.replaceArray(a.getUniqueItems());t();e()};a.push=function(){g();a.length=Array.prototype.push.apply(b,n(arguments));e(!0);return a.length};a.pop=function(){g();if(a.isEmpty())throw Error("Can't pop from empty array.");p--;delete a[--a.length];return b.pop()};a.fill=function(){Array.prototype.fill.apply(b,n(arguments));e();return b};a.slice=function(a,e){return Array.prototype.slice.apply(b,n(arguments))};a.shift=function(){if(a.isEmpty())throw Error("Can't shift from empty array.");
g();var c=b.shift();a.length=b.length;e();delete a[a.length];return c};a.unshift=function(c){b.unshift(c);a.length=b.length;e();return a.length};a.reverse=function(){g();b.reverse();e();return b};a.reduce=function(a){return b.reduce(a)};a.sort=function(a){b.sort(">"==a?v:"<"==a?r:a?a:r);t();e();return b};a.join=function(a){return b.join(a)};a.toString=function(){return b.toString()};a.indexOf=function(a){return b.indexOf(a)};a.lastIndexOf=function(a){return b.lastIndexOf(a)};a.keys=function(){return b.keys()};
a.map=function(a){g();b.map(a);m!=b&&e()}};