function SmartArray(){function n(a){return"number"===typeof a?a:b.indexOf(a)}function r(){var a=arguments,d=a[0],e=b.length,f,g=1<arguments.length;g&&(f=a[1]);return g?-1<d&&-1<f&&d!=f&&d<e&&f<e:-1<d&&d<e}function w(a,b){return"number"===typeof(a&&b)?a-b:(a+"").localeCompare(b)}function v(a){for(var b,e,f=a.length;f;)b=Math.floor(Math.random()*f),e=a[f-1],a[f-1]=a[b],a[b]=e,f--;return a}function g(){q&&(l=b.slice())}function k(a){return Array.prototype.slice.call(a)}function m(c){a.length=b.length}
function t(){for(var c=0,d=b.length;c<d;c++)delete a[c];p=0}function h(c){var d=a.length;for(c=c?p:0;c<d;c++)a[c]=b[c];p=d}var q=!0,u=!1,a=this,b=[],l=[];b.constructor!=Array&&(b=[]);var p=0;a.constructor="SmartArray";a.length=0;h();a.isEmpty=function(){return 0==a.length};a.includes=function(){return Array.prototype.includes.apply(b,k(arguments))};a.every=function(){return Array.prototype.every.apply(b,k(arguments))};a.toChars=function(){for(var a=[],d=0,e=b.length;d<e;d++)"number"===typeof b[d]&&
a.push(String.fromCharCode(parseInt(b[d])));return a};a.getUniqueItems=function(){for(var b=[],d=a.getArray(!0).sort(w),e=0,f=d.length;e<f;e++)-1==b.indexOf(d[e])&&b.push(d[e]);return b};a.frequency=function(a){var d=0,e=b,f=ar.length,g;for(g=0;g<f;g++)a==e[g]&&d++;return d};a.topItem=function(){for(var c=b.slice(),d=a.frequency(c[0]),e=c[0],f=0,g=c.length;f<g;f++)a.frequency(c[f])>d&&(d=a.frequency(c[f]),e=c[f]);return e};a.getArray=function(){return b.slice()};a.getLastItem=function(){var c=b;return a.isEmpty()?
null:c[c.length-1]};a.replaceArray=function(a){g();b=a.slice();m(b);h();return b};a.backupArray=function(){g()};a.restoreBackup=function(){if(q)return m(b),a.replaceArray(l.slice()),h(),b};a["delete"]=function(c){if(!r(c))throw Error("Invalid index");delete a[n(c)];a.length--;return delete b[n(c)]};a.getBackup=function(){return l};a.deleteArray=function(){g();t();b.length=a.length=0};a.shuffle=function(){if(a.isEmpty())throw Error("Array is empty.");g();v(b);l!=b&&h()};a.pickRandomItem=function(){return v(b.slice())[0]};
a.swap=function(c,d){var e=n(c),f=n(d);if(!r(e,f))throw new TypeError("Invalid index values");g();var h=a[f];a[f]=a[e];a[e]=h;h=b[f];b[f]=b[e];b[e]=h};a.replaceItem=function(c,d,e){c=n(c);if(!e&&!r(c))throw new TypeError("Invalid Index");g();b[c]=d;a[c]=d;e&&m(b);return b};a.set=function(b,d){return a.replaceItem(b,d,!0)};a.disableBackups=function(){q=!1;l=null};a.enableBackups=function(){q=!0;l=[]};a.lastItem=function(){return b[a.length-1]};a.removeDuplicates=function(){g();t();a.replaceArray(a.getUniqueItems(!0));
m(b);p=b.length;h();return b};a.denyDuplicates=function(){u=!0;return a.removeDuplicates()};a.allowDuplicates=function(){u=!1};a.push=function(){g();a.length=Array.prototype.push.apply(b,k(arguments));if(u)return a.removeDuplicates(),a.length;h(!0);return a.length};a.pop=function(){if(a.isEmpty())throw Error("Can't pop from empty array.");g();p--;delete a[--a.length];return b.pop()};a.fill=function(){Array.prototype.fill.apply(b,k(arguments));h();return b};a.filter=function(){return Array.prototype.filter.apply(b,
k(arguments))};a.find=function(a){return Array.prototype.find.apply(b,k(arguments))};a.values=function(){return b.values()};a.slice=function(a,d){return Array.prototype.slice.apply(b,k(arguments))};a.shift=function(){if(a.isEmpty())throw Error("Can't shift from empty array.");g();var c=b.shift();m(b);h();delete a[a.length];return c};a.unshift=function(c){b.unshift(c);m(b);h();return a.length};a.reverse=function(){g();b.reverse();h();return b};a.reduce=function(){return Array.prototype.reduce.apply(b,
k(arguments))};a.sort=function(a){g();b.sort(a);t();h();return b};a.join=function(a){return b.join(a)};a.toString=function(){return b.toString()};a.indexOf=function(a){return b.indexOf(a)};a.lastIndexOf=function(){return Array.prototype.lastIndexOf.apply(b,k(arguments))};a.keys=function(){return b.keys()};a.map=function(a){if(!a)throw new TypeError("You can't call .map() without passing a function.");g();b.map(a);h();return b.map(a)};a.forEach=function(a,d){return b.forEach(a,d)};a.every=function(){return Array.prototype.every.apply(b,
k(arguments))}};